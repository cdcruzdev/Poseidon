function weight(x){ return 2097152 * x.network_depth + 256 * x.total_gates + 256 * x.network_size + x.preprocess_weight;}var pre_profile = { 'code':
{"source_file":"use arcis::*;\n\n#[encrypted]\nmod circuits {\n    use arcis::*;\n\n    // === Encrypted Deposit ===\n    pub struct DepositInput {\n        amount_a: u64,\n        amount_b: u64,\n        tick_lower: i32,\n        tick_upper: i32,\n    }\n\n    pub struct PositionData {\n        amount_a: u64,\n        amount_b: u64,\n        tick_lower: i32,\n        tick_upper: i32,\n        liquidity: u64,\n    }\n\n    #[instruction]\n    pub fn encrypted_deposit(input_ctxt: Enc<Shared, DepositInput>) -> Enc<Shared, PositionData> {\n        let input = input_ctxt.to_arcis();\n\n        // Simplified liquidity: sum of amounts (can't do sqrt in MPC easily)\n        let liquidity = input.amount_a + input.amount_b;\n\n        let position = PositionData {\n            amount_a: input.amount_a,\n            amount_b: input.amount_b,\n            tick_lower: input.tick_lower,\n            tick_upper: input.tick_upper,\n            liquidity,\n        };\n\n        input_ctxt.owner.from_arcis(position)\n    }\n\n    // === Encrypted Rebalance ===\n    pub struct RebalanceInput {\n        current_amount_a: u64,\n        current_amount_b: u64,\n        current_tick_lower: i32,\n        current_tick_upper: i32,\n        new_tick_lower: i32,\n        new_tick_upper: i32,\n        current_price_x64: u64,\n    }\n\n    pub struct RebalanceOutput {\n        new_amount_a: u64,\n        new_amount_b: u64,\n        new_tick_lower: i32,\n        new_tick_upper: i32,\n        new_liquidity: u64,\n    }\n\n    #[instruction]\n    pub fn encrypted_rebalance(input_ctxt: Enc<Shared, RebalanceInput>) -> Enc<Shared, RebalanceOutput> {\n        let input = input_ctxt.to_arcis();\n\n        // Total value = amount_a * price + amount_b (simplified â€” avoid bitshift)\n        // Use price_x64 as a simple multiplier / 1000 for scaling\n        let value_a = input.current_amount_a * input.current_price_x64 / 1000u64;\n        let total_value = value_a + input.current_amount_b;\n\n        // Split 50/50\n        let half = total_value / 2u64;\n        let new_amount_b = half;\n        let new_amount_a = if input.current_price_x64 > 0u64 {\n            half * 1000u64 / input.current_price_x64\n        } else {\n            0u64\n        };\n\n        let new_liquidity = new_amount_a + new_amount_b;\n\n        let output = RebalanceOutput {\n            new_amount_a,\n            new_amount_b,\n            new_tick_lower: input.new_tick_lower,\n            new_tick_upper: input.new_tick_upper,\n            new_liquidity,\n        };\n\n        input_ctxt.owner.from_arcis(output)\n    }\n\n    // === View Position ===\n    pub struct ViewInput {\n        amount_a: u64,\n        amount_b: u64,\n        tick_lower: i32,\n        tick_upper: i32,\n        liquidity: u64,\n    }\n\n    pub struct ViewOutput {\n        amount_a: u64,\n        amount_b: u64,\n        tick_lower: i32,\n        tick_upper: i32,\n        liquidity: u64,\n    }\n\n    #[instruction]\n    pub fn view_position(input_ctxt: Enc<Shared, ViewInput>) -> Enc<Shared, ViewOutput> {\n        let input = input_ctxt.to_arcis();\n\n        let output = ViewOutput {\n            amount_a: input.amount_a,\n            amount_b: input.amount_b,\n            tick_lower: input.tick_lower,\n            tick_upper: input.tick_upper,\n            liquidity: input.liquidity,\n        };\n\n        input_ctxt.owner.from_arcis(output)\n    }\n}\n","code":[{"code":"self.owner","region":"Unknown"},{"code":"self.data","region":"Unknown"},{"code":"Self :: __arcis_inner(self.owner, self.data)","region":"Unknown"},{"code":"let input = input_ctxt.to_arcis();","region":{"Known":[{"line":24,"column":8},{"line":24,"column":42}]}},{"code":"let liquidity = input.amount_a + input.amount_b;","region":{"Known":[{"line":27,"column":8},{"line":27,"column":56}]}},{"code":"input.amount_a","region":{"Known":[{"line":30,"column":22},{"line":30,"column":36}]}},{"code":"input.amount_b","region":{"Known":[{"line":31,"column":22},{"line":31,"column":36}]}},{"code":"input.tick_lower","region":{"Known":[{"line":32,"column":24},{"line":32,"column":40}]}},{"code":"input.tick_upper","region":{"Known":[{"line":33,"column":24},{"line":33,"column":40}]}},{"code":"liquidity","region":{"Known":[{"line":34,"column":12},{"line":34,"column":21}]}},{"code":"let position = PositionData\n{\n    amount_a : input.amount_a, amount_b : input.amount_b, tick_lower :\n    input.tick_lower, tick_upper : input.tick_upper, liquidity,\n};","region":{"Known":[{"line":29,"column":8},{"line":35,"column":10}]}},{"code":"position","region":{"Known":[{"line":37,"column":36},{"line":37,"column":44}]}},{"code":"1","region":"Unknown"},{"code":"fn inner < T > (a : T, b : T) -> T { ((a + b) as ArcisField) as T }","region":"Unknown"},{"code":"self","region":"Unknown"},{"code":"other","region":"Unknown"},{"code":"a + b","region":"Unknown"},{"code":"(a + b) as ArcisField","region":"Unknown"},{"code":"((a + b) as ArcisField) as T","region":"Unknown"},{"code":"inner(self, other)","region":"Unknown"},{"code":"self.nonce = self.nonce.wrapping_add(1);","region":"Unknown"},{"code":"self","region":"Unknown"},{"code":"a","region":"Unknown"},{"code":"a","region":"Unknown"},{"code":"self.from_arcis_inner(a)","region":"Unknown"},{"code":"a","region":"Unknown"},{"code":"let phantom = [a; 0];","region":"Unknown"},{"code":"data","region":"Unknown"},{"code":"phantom","region":"Unknown"},{"code":"let data = EncData { data, phantom };","region":"Unknown"},{"code":"owner","region":"Unknown"},{"code":"data","region":"Unknown"},{"code":"Self { owner, data }","region":"Unknown"},{"code":"Enc :: new_inner(self, a, self.from_arcis_inner(a))","region":"Unknown"},{"code":"input_ctxt.owner.from_arcis(position)","region":{"Known":[{"line":37,"column":8},{"line":37,"column":45}]}},{"code":"let input = input_ctxt.to_arcis();","region":{"Known":[{"line":61,"column":8},{"line":61,"column":42}]}},{"code":"let value_a = input.current_amount_a * input.current_price_x64 / 1000u64;","region":{"Known":[{"line":65,"column":8},{"line":65,"column":81}]}},{"code":"let total_value = value_a + input.current_amount_b;","region":{"Known":[{"line":66,"column":8},{"line":66,"column":59}]}},{"code":"let half = total_value / 2u64;","region":{"Known":[{"line":69,"column":8},{"line":69,"column":38}]}},{"code":"let new_amount_b = half;","region":{"Known":[{"line":70,"column":8},{"line":70,"column":32}]}},{"code":"input.current_price_x64 > 0u64","region":{"Known":[{"line":71,"column":30},{"line":71,"column":60}]}},{"code":"0u64","region":{"Known":[{"line":74,"column":12},{"line":74,"column":16}]}},{"code":"half * 1000u64 / input.current_price_x64","region":{"Known":[{"line":72,"column":12},{"line":72,"column":52}]}},{"code":"let new_amount_a = if input.current_price_x64 > 0u64\n{ half * 1000u64 / input.current_price_x64 } else { 0u64 };","region":{"Known":[{"line":71,"column":8},{"line":75,"column":10}]}},{"code":"let new_liquidity = new_amount_a + new_amount_b;","region":{"Known":[{"line":77,"column":8},{"line":77,"column":56}]}},{"code":"new_amount_a","region":{"Known":[{"line":80,"column":12},{"line":80,"column":24}]}},{"code":"new_amount_b","region":{"Known":[{"line":81,"column":12},{"line":81,"column":24}]}},{"code":"input.new_tick_lower","region":{"Known":[{"line":82,"column":28},{"line":82,"column":48}]}},{"code":"input.new_tick_upper","region":{"Known":[{"line":83,"column":28},{"line":83,"column":48}]}},{"code":"new_liquidity","region":{"Known":[{"line":84,"column":12},{"line":84,"column":25}]}},{"code":"let output = RebalanceOutput\n{\n    new_amount_a, new_amount_b, new_tick_lower : input.new_tick_lower,\n    new_tick_upper : input.new_tick_upper, new_liquidity,\n};","region":{"Known":[{"line":79,"column":8},{"line":85,"column":10}]}},{"code":"output","region":{"Known":[{"line":87,"column":36},{"line":87,"column":42}]}},{"code":"input_ctxt.owner.from_arcis(output)","region":{"Known":[{"line":87,"column":8},{"line":87,"column":43}]}},{"code":"let input = input_ctxt.to_arcis();","region":{"Known":[{"line":109,"column":8},{"line":109,"column":42}]}},{"code":"input.amount_a","region":{"Known":[{"line":112,"column":22},{"line":112,"column":36}]}},{"code":"input.amount_b","region":{"Known":[{"line":113,"column":22},{"line":113,"column":36}]}},{"code":"input.tick_lower","region":{"Known":[{"line":114,"column":24},{"line":114,"column":40}]}},{"code":"input.tick_upper","region":{"Known":[{"line":115,"column":24},{"line":115,"column":40}]}},{"code":"input.liquidity","region":{"Known":[{"line":116,"column":23},{"line":116,"column":38}]}},{"code":"let output = ViewOutput\n{\n    amount_a : input.amount_a, amount_b : input.amount_b, tick_lower :\n    input.tick_lower, tick_upper : input.tick_upper, liquidity :\n    input.liquidity,\n};","region":{"Known":[{"line":111,"column":8},{"line":117,"column":10}]}},{"code":"output","region":{"Known":[{"line":119,"column":36},{"line":119,"column":42}]}},{"code":"input_ctxt.owner.from_arcis(output)","region":{"Known":[{"line":119,"column":8},{"line":119,"column":43}]}}]}
, 'instructions':
{"encrypted_deposit":{"profilees":[{"code_idx":0,"before_size_id":0,"after_size_id":0},{"code_idx":1,"before_size_id":0,"after_size_id":1},{"code_idx":2,"before_size_id":0,"after_size_id":2},{"code_idx":3,"before_size_id":0,"after_size_id":2},{"code_idx":4,"before_size_id":2,"after_size_id":3},{"code_idx":5,"before_size_id":3,"after_size_id":3},{"code_idx":6,"before_size_id":3,"after_size_id":3},{"code_idx":7,"before_size_id":3,"after_size_id":4},{"code_idx":8,"before_size_id":4,"after_size_id":5},{"code_idx":9,"before_size_id":5,"after_size_id":5},{"code_idx":10,"before_size_id":3,"after_size_id":5},{"code_idx":11,"before_size_id":5,"after_size_id":5},{"code_idx":12,"before_size_id":5,"after_size_id":5},{"code_idx":13,"before_size_id":5,"after_size_id":5},{"code_idx":14,"before_size_id":5,"after_size_id":5},{"code_idx":15,"before_size_id":5,"after_size_id":5},{"code_idx":16,"before_size_id":5,"after_size_id":6},{"code_idx":17,"before_size_id":5,"after_size_id":6},{"code_idx":18,"before_size_id":5,"after_size_id":7},{"code_idx":19,"before_size_id":5,"after_size_id":7},{"code_idx":20,"before_size_id":5,"after_size_id":7},{"code_idx":21,"before_size_id":7,"after_size_id":7},{"code_idx":22,"before_size_id":7,"after_size_id":7},{"code_idx":23,"before_size_id":7,"after_size_id":7},{"code_idx":24,"before_size_id":7,"after_size_id":8},{"code_idx":25,"before_size_id":8,"after_size_id":8},{"code_idx":26,"before_size_id":8,"after_size_id":8},{"code_idx":27,"before_size_id":8,"after_size_id":8},{"code_idx":28,"before_size_id":8,"after_size_id":8},{"code_idx":29,"before_size_id":8,"after_size_id":8},{"code_idx":30,"before_size_id":8,"after_size_id":8},{"code_idx":31,"before_size_id":8,"after_size_id":8},{"code_idx":32,"before_size_id":8,"after_size_id":8},{"code_idx":33,"before_size_id":7,"after_size_id":8},{"code_idx":34,"before_size_id":5,"after_size_id":8}]},"view_position":{"profilees":[{"code_idx":0,"before_size_id":0,"after_size_id":0},{"code_idx":1,"before_size_id":0,"after_size_id":1},{"code_idx":2,"before_size_id":0,"after_size_id":2},{"code_idx":53,"before_size_id":0,"after_size_id":2},{"code_idx":54,"before_size_id":2,"after_size_id":2},{"code_idx":55,"before_size_id":2,"after_size_id":2},{"code_idx":56,"before_size_id":2,"after_size_id":3},{"code_idx":57,"before_size_id":3,"after_size_id":4},{"code_idx":58,"before_size_id":4,"after_size_id":5},{"code_idx":59,"before_size_id":2,"after_size_id":5},{"code_idx":60,"before_size_id":5,"after_size_id":5},{"code_idx":12,"before_size_id":5,"after_size_id":5},{"code_idx":13,"before_size_id":5,"after_size_id":5},{"code_idx":14,"before_size_id":5,"after_size_id":5},{"code_idx":15,"before_size_id":5,"after_size_id":5},{"code_idx":16,"before_size_id":5,"after_size_id":6},{"code_idx":17,"before_size_id":5,"after_size_id":6},{"code_idx":18,"before_size_id":5,"after_size_id":7},{"code_idx":19,"before_size_id":5,"after_size_id":7},{"code_idx":20,"before_size_id":5,"after_size_id":7},{"code_idx":21,"before_size_id":7,"after_size_id":7},{"code_idx":22,"before_size_id":7,"after_size_id":7},{"code_idx":23,"before_size_id":7,"after_size_id":7},{"code_idx":24,"before_size_id":7,"after_size_id":8},{"code_idx":25,"before_size_id":8,"after_size_id":8},{"code_idx":26,"before_size_id":8,"after_size_id":8},{"code_idx":27,"before_size_id":8,"after_size_id":8},{"code_idx":28,"before_size_id":8,"after_size_id":8},{"code_idx":29,"before_size_id":8,"after_size_id":8},{"code_idx":30,"before_size_id":8,"after_size_id":8},{"code_idx":31,"before_size_id":8,"after_size_id":8},{"code_idx":32,"before_size_id":8,"after_size_id":8},{"code_idx":33,"before_size_id":7,"after_size_id":8},{"code_idx":61,"before_size_id":5,"after_size_id":8}]},"encrypted_rebalance":{"profilees":[{"code_idx":0,"before_size_id":0,"after_size_id":0},{"code_idx":1,"before_size_id":0,"after_size_id":1},{"code_idx":2,"before_size_id":0,"after_size_id":2},{"code_idx":35,"before_size_id":0,"after_size_id":2},{"code_idx":36,"before_size_id":2,"after_size_id":3},{"code_idx":37,"before_size_id":3,"after_size_id":4},{"code_idx":38,"before_size_id":4,"after_size_id":5},{"code_idx":39,"before_size_id":5,"after_size_id":5},{"code_idx":40,"before_size_id":5,"after_size_id":6},{"code_idx":41,"before_size_id":6,"after_size_id":6},{"code_idx":42,"before_size_id":6,"after_size_id":7},{"code_idx":43,"before_size_id":5,"after_size_id":8},{"code_idx":44,"before_size_id":8,"after_size_id":9},{"code_idx":45,"before_size_id":9,"after_size_id":9},{"code_idx":46,"before_size_id":9,"after_size_id":9},{"code_idx":47,"before_size_id":9,"after_size_id":10},{"code_idx":48,"before_size_id":10,"after_size_id":10},{"code_idx":49,"before_size_id":10,"after_size_id":10},{"code_idx":50,"before_size_id":9,"after_size_id":10},{"code_idx":51,"before_size_id":10,"after_size_id":10},{"code_idx":12,"before_size_id":10,"after_size_id":10},{"code_idx":13,"before_size_id":10,"after_size_id":10},{"code_idx":14,"before_size_id":10,"after_size_id":10},{"code_idx":15,"before_size_id":10,"after_size_id":10},{"code_idx":16,"before_size_id":10,"after_size_id":11},{"code_idx":17,"before_size_id":10,"after_size_id":11},{"code_idx":18,"before_size_id":10,"after_size_id":12},{"code_idx":19,"before_size_id":10,"after_size_id":12},{"code_idx":20,"before_size_id":10,"after_size_id":12},{"code_idx":21,"before_size_id":12,"after_size_id":12},{"code_idx":22,"before_size_id":12,"after_size_id":12},{"code_idx":23,"before_size_id":12,"after_size_id":12},{"code_idx":24,"before_size_id":12,"after_size_id":13},{"code_idx":25,"before_size_id":13,"after_size_id":13},{"code_idx":26,"before_size_id":13,"after_size_id":13},{"code_idx":27,"before_size_id":13,"after_size_id":13},{"code_idx":28,"before_size_id":13,"after_size_id":13},{"code_idx":29,"before_size_id":13,"after_size_id":13},{"code_idx":30,"before_size_id":13,"after_size_id":13},{"code_idx":31,"before_size_id":13,"after_size_id":13},{"code_idx":32,"before_size_id":13,"after_size_id":13},{"code_idx":33,"before_size_id":12,"after_size_id":13},{"code_idx":52,"before_size_id":10,"after_size_id":13}]}}
, 'instruction_locations':
{"encrypted_deposit":{"Known":[{"line":22,"column":4},{"line":22,"column":18}]},"view_position":{"Known":[{"line":107,"column":4},{"line":107,"column":18}]},"encrypted_rebalance":{"Known":[{"line":59,"column":4},{"line":59,"column":18}]}}
};
